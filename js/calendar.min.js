const J2000=2451545;const JulianCentury=36525;const JulianMillennium=JulianCentury*10;const TropicalYear=365.24219878;function dtr(e){return e*Math.PI/180}function rtd(e){return e*180/Math.PI}function fixangle(e){return e-360*Math.floor(e/360)}function fixangr(e){return e-2*Math.PI*Math.floor(e/(2*Math.PI))}function dsin(e){return Math.sin(dtr(e))}function dcos(e){return Math.cos(dtr(e))}function mod(e,n){return e-n*Math.floor(e/n)}function amod(e,n){return mod(e-1,n)+1}function jhms(e){e+=.5;const n=(e-Math.floor(e))*86400+.5;return[Math.floor(n/3600),Math.floor(n/60%60),Math.floor(n%60)]}const Weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function jwday(e){return mod(Math.floor(e+1.5),7)}const oterms=[-4680.93,-1.55,1999.25,-51.38,-249.67,-39.05,7.12,27.87,5.79,2.45];function obliqeq(e){let n,a,o,t;o=a=(e-J2000)/(JulianCentury*100);n=23+26/60+21.448/3600;if(Math.abs(a)<1){for(t=0;t<10;t++){n+=oterms[t]/3600*o;o*=a}}return n}const nutArgMult=[0,0,0,0,1,-2,0,0,2,2,0,0,0,2,2,0,0,0,0,2,0,1,0,0,0,0,0,1,0,0,-2,1,0,2,2,0,0,0,2,1,0,0,1,2,2,-2,-1,0,2,2,-2,0,1,0,0,-2,0,0,2,1,0,0,-1,2,2,2,0,0,0,0,0,0,1,0,1,2,0,-1,2,2,0,0,-1,0,1,0,0,1,2,1,-2,0,2,0,0,0,0,-2,2,1,2,0,0,2,2,0,0,2,2,2,0,0,2,0,0,-2,0,1,2,2,0,0,0,2,0,-2,0,0,2,0,0,0,-1,2,1,0,2,0,0,0,2,0,-1,0,1,-2,2,0,2,2,0,1,0,0,1,-2,0,1,0,1,0,-1,0,0,1,0,0,2,-2,0,2,0,-1,2,1,2,0,1,2,2,0,1,0,2,2,-2,1,1,0,0,0,-1,0,2,2,2,0,0,2,1,2,0,1,0,0,-2,0,2,2,2,-2,0,1,2,1,2,0,-2,0,1,2,0,0,0,1,0,-1,1,0,0,-2,-1,0,2,1,-2,0,0,0,1,0,0,2,2,1,-2,0,2,0,1,-2,1,0,2,1,0,0,1,-2,0,-1,0,1,0,0,-2,1,0,0,0,1,0,0,0,0,0,0,1,2,0,-1,-1,1,0,0,0,1,1,0,0,0,-1,1,2,2,2,-1,-1,2,2,0,0,-2,2,2,0,0,3,2,2,2,-1,0,2,2];const nutArgCoeff=[-171996,-1742,92095,89,-13187,-16,5736,-31,-2274,-2,977,-5,2062,2,-895,5,1426,-34,54,-1,712,1,-7,0,-517,12,224,-6,-386,-4,200,0,-301,0,129,-1,217,-5,-95,3,-158,0,0,0,129,1,-70,0,123,0,-53,0,63,0,0,0,63,1,-33,0,-59,0,26,0,-58,-1,32,0,-51,0,27,0,48,0,0,0,46,0,-24,0,-38,0,16,0,-31,0,13,0,29,0,0,0,29,0,-12,0,26,0,0,0,-22,0,0,0,21,0,-10,0,17,-1,0,0,16,0,-8,0,-16,1,7,0,-15,0,9,0,-13,0,7,0,-12,0,6,0,11,0,0,0,-10,0,5,0,-8,0,3,0,7,0,-3,0,-7,0,0,0,-7,0,3,0,-7,0,3,0,6,0,0,0,6,0,-3,0,6,0,-3,0,-6,0,3,0,-6,0,3,0,5,0,0,0,-5,0,3,0,-5,0,3,0,-5,0,3,0,4,0,0,0,4,0,0,0,4,0,0,0,-4,0,0,0,-4,0,0,0,-4,0,0,0,3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0];function nutation(e){let n;let a;const o=(e-2451545)/36525;let t;const r=[];let u=0;let c=0;let i;const l=o*(t=o*o);r[0]=dtr(297.850363+445267.11148*o-.0019142*t+l/189474);r[1]=dtr(357.52772+35999.05034*o-1603e-7*t-l/3e5);r[2]=dtr(134.96298+477198.867398*o+.0086972*t+l/56250);r[3]=dtr(93.27191+483202.017538*o-.0036825*t+l/327270);r[4]=dtr(125.04452-1934.136261*o+.0020708*t+l/45e4);for(n=0;n<5;n++){r[n]=fixangr(r[n])}const d=o/10;for(n=0;n<63;n++){i=0;for(a=0;a<5;a++){if(nutArgMult[n*5+a]!==0){i+=nutArgMult[n*5+a]*r[a]}}u+=(nutArgCoeff[n*4+0]+nutArgCoeff[n*4+1]*d)*Math.sin(i);c+=(nutArgCoeff[n*4+2]+nutArgCoeff[n*4+3]*d)*Math.cos(i)}const s=u/(3600*1e4);const m=c/(3600*1e4);return[s,m]}const deltaTtab=[121,112,103,95,88,82,77,72,68,63,60,56,53,51,48,46,44,42,40,38,35,33,31,29,26,24,22,20,18,16,14,12,11,10,9,8,7,7,7,7,7,7,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,12,12,12,12,13,13,13,14,14,14,14,15,15,15,15,15,16,16,16,16,16,16,16,16,15,15,14,13,13.1,12.5,12.2,12,12,12,12,12,12,11.9,11.6,11,10.2,9.2,8.2,7.1,6.2,5.6,5.4,5.3,5.4,5.6,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.6,7.7,7.3,6.2,5.2,2.7,1.4,-1.2,-2.8,-3.8,-4.8,-5.5,-5.3,-5.6,-5.7,-5.9,-6,-6.3,-6.5,-6.2,-4.7,-2.8,-.1,2.6,5.3,7.7,10.4,13.3,16,18.2,20.2,21.1,22.4,23.5,23.8,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.2,42.2,44.5,46.5,48.5,50.5,52.2,53.8,54.9,55.8,56.9,58.3,60,61.6,63,65,66.6];function deltat(e){let n,a,o,t;if(e>=1620&&e<=2e3){o=Math.floor((e-1620)/2);a=(e-1620)/2-o;n=deltaTtab[o]+(deltaTtab[o+1]-deltaTtab[o])*a}else{t=(e-2e3)/100;if(e<948){n=2177+497*t+44.1*t*t}else{n=102+102*t+25.3*t*t;if(e>2e3&&e<2100){n+=.37*(e-2100)}}}return n}const EquinoxpTerms=[485,324.96,1934.136,203,337.23,32964.467,199,342.08,20.186,182,27.85,445267.112,156,73.14,45036.886,136,171.52,22518.443,77,222.54,65928.934,74,296.72,3034.906,70,243.58,9037.513,58,119.81,33718.147,52,297.17,150.678,50,21.02,2281.226,45,247.54,29929.562,44,325.15,31555.956,29,60.93,4443.417,18,155.12,67555.328,17,288.79,4562.452,16,198.04,62894.029,14,199.76,31436.921,12,95.39,14577.848,12,287.11,31931.756,12,320.81,34777.259,9,227.73,1222.114,8,15.45,16859.074];const JDE0tab1000=[[1721139.29189,365242.1374,.06134,.00111,-71e-5],[1721233.25401,365241.72562,-.05323,.00907,25e-5],[1721325.70455,365242.49558,-.11677,-.00297,74e-5],[1721414.39987,365242.88257,-.00769,-.00933,-6e-5]];const JDE0tab2000=[[2451623.80984,365242.37404,.05169,-.00411,-57e-5],[2451716.56767,365241.62603,.00325,.00888,-3e-4],[2451810.21715,365242.01767,-.11575,.00337,78e-5],[2451900.05952,365242.74049,-.06223,-.00823,32e-5]];function equinox(e,n){let a,o,t,r,u;if(e<1e3){t=JDE0tab1000;u=e/1e3}else{t=JDE0tab2000;u=(e-2e3)/1e3}const c=t[n][0]+t[n][1]*u+t[n][2]*u*u+t[n][3]*u*u*u+t[n][4]*u*u*u*u;const i=(c-2451545)/36525;const l=35999.373*i-2.47;const d=1+.0334*dcos(l)+7e-4*dcos(2*l);r=0;for(a=o=0;a<24;a++){r+=EquinoxpTerms[o]*dcos(EquinoxpTerms[o+1]+EquinoxpTerms[o+2]*i);o+=3}const s=c+r*1e-5/d;return s}function sunpos(e){let n,a,o,t;const r=(e-J2000)/JulianCentury;const u=r*r;n=280.46646+36000.76983*r+3032e-7*u;n=fixangle(n);a=357.52911+35999.05029*r+-1537e-7*u;a=fixangle(a);const c=.016708634+-42037e-9*r+-1.267e-7*u;const i=(1.914602+-.004817*r+-14e-6*u)*dsin(a)+(.019993-101e-6*r)*dsin(2*a)+289e-6*dsin(3*a);const l=n+i;const d=a+i;const s=1.000001018*(1-c*c)/(1+c*dcos(d));const m=125.04-1934.136*r;const f=l+-.00569+-.00478*dsin(m);const h=obliqeq(e);const y=h+.00256*dcos(m);o=rtd(Math.atan2(dcos(h)*dsin(l),dcos(l)));o=fixangle(o);const g=rtd(Math.asin(dsin(h)*dsin(l)));t=rtd(Math.atan2(dcos(y)*dsin(f),dcos(f)));t=fixangle(t);const b=rtd(Math.asin(dsin(y)*dsin(f)));return[n,a,c,i,l,d,s,f,o,g,t,b]}function equationOfTime(e){let n,a;const o=(e-J2000)/JulianMillennium;a=280.4664567+360007.6982779*o+.03032028*o*o+o*o*o/49931+-(o*o*o*o/15300)+-(o*o*o*o*o/2e6);a=fixangle(a);const t=sunpos(e)[10];const r=nutation(e)[0];const u=obliqeq(e)+nutation(e)[1];n=a+-.0057183+-t+r*dcos(u);n=n-20*Math.floor(n/20);n=n/(24*60);return n}const J0000=1721424.5;const J1970=2440587.5;const JMJD=2400000.5;const J1900=2415020.5;const J1904=2416480.5;const NormLeap=["Normal year","Leap year"];function weekdayBefore(e,n){return n-jwday(n-e)}function searchWeekday(e,n,a,o){return weekdayBefore(e,n+a*o)}function nextWeekday(e,n){return searchWeekday(e,n,1,7)}function previousWeekday(e,n){return searchWeekday(e,n,-1,1)}function leapGregorian(e){return e%4===0&&!(e%100===0&&e%400!==0)}const GREGORIAN_EPOCH=1721425.5;function gregorianToJd(e,n,a){return GREGORIAN_EPOCH-1+365*(e-1)+Math.floor((e-1)/4)+-Math.floor((e-1)/100)+Math.floor((e-1)/400)+Math.floor((367*n-362)/12+(n<=2?0:leapGregorian(e)?-1:-2)+a)}function jdToGregorian(e){let n;const a=Math.floor(e-.5)+.5;const o=a-GREGORIAN_EPOCH;const t=Math.floor(o/146097);const r=mod(o,146097);const u=Math.floor(r/36524);const c=mod(r,36524);const i=Math.floor(c/1461);const l=mod(c,1461);const d=Math.floor(l/365);n=t*400+u*100+i*4+d;if(!(u===4||d===4)){n++}const s=a-gregorianToJd(n,1,1);const m=a<gregorianToJd(n,3,1)?0:leapGregorian(n)?1:2;const f=Math.floor(((s+m)*12+373)/367);const h=a-gregorianToJd(n,f,1)+1;return[n,f,h]}function nWeeks(e,n,a){let o=7*a;if(a>0){o+=previousWeekday(e,n)}else{o+=nextWeekday(e,n)}return o}function isoToJulian(e,n,a){return a+nWeeks(0,gregorianToJd(e-1,12,28),n)}function jdToIso(e){let n,a;n=jdToGregorian(e-3)[0];if(e>=isoToJulian(n+1,1,1)){n++}const o=Math.floor((e-isoToJulian(n,1,1))/7)+1;a=jwday(e);if(a===0){a=7}return[n,o,a]}function isoDayToJulian(e,n){return n-1+gregorianToJd(e,1,1)}function jdToIsoDay(e){const n=jdToGregorian(e)[0];const a=Math.floor(e-gregorianToJd(n,1,1))+1;return[n,a]}function pad(e,n,a){let o=e.toString();while(o.length<n){o=a+o}return o}function leapJulian(e){return mod(e,4)===(e>0?0:3)}function julianToJd(e,n,a){if(e<1){e++}if(n<=2){e--;n+=12}return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(n+1))+a-1524.5}function jdToJulian(e){let n;e+=.5;const a=Math.floor(e);const o=a;const t=o+1524;const r=Math.floor((t-122.1)/365.25);const u=Math.floor(365.25*r);const c=Math.floor((t-u)/30.6001);const i=Math.floor(c<14?c-1:c-13);n=Math.floor(i>2?r-4716:r-4715);const l=t-u-Math.floor(30.6001*c);if(n<1){n--}return[n,i,l]}const HEBREW_EPOCH=347995.5;function hebrewLeap(e){return mod(e*7+1,19)<7}function hebrewYearMonths(e){return hebrewLeap(e)?13:12}function hebrewDelay1(e){const n=Math.floor((235*e-234)/19);const a=12084+13753*n;let o=n*29+Math.floor(a/25920);if(mod(3*(o+1),7)<3){o++}return o}function hebrewDelay2(e){const n=hebrewDelay1(e-1);const a=hebrewDelay1(e);const o=hebrewDelay1(e+1);return o-a===356?2:a-n===382?1:0}function hebrewYearDays(e){return hebrewToJd(e+1,7,1)-hebrewToJd(e,7,1)}function hebrewMonthDays(e,n){if(n===2||n===4||n===6||n===10||n===13){return 29}if(n===12&&!hebrewLeap(e)){return 29}if(n===8&&mod(hebrewYearDays(e),10)!==5){return 29}if(n===9&&mod(hebrewYearDays(e),10)===3){return 29}return 30}function hebrewToJd(e,n,a){let o,t;const r=hebrewYearMonths(e);o=HEBREW_EPOCH+hebrewDelay1(e)+hebrewDelay2(e)+a+1;if(n<7){for(t=7;t<=r;t++){o+=hebrewMonthDays(e,t)}for(t=1;t<n;t++){o+=hebrewMonthDays(e,t)}}else{for(t=7;t<n;t++){o+=hebrewMonthDays(e,t)}}return o}function jdToHebrew(e){let n,a,o;e=Math.floor(e)+.5;const t=Math.floor((e-HEBREW_EPOCH)*98496/35975351);n=t-1;for(o=t;e>=hebrewToJd(o,7,1);o++){n++}const r=e<hebrewToJd(n,1,1)?7:1;a=r;for(o=r;e>hebrewToJd(n,o,hebrewMonthDays(n,o));o++){a++}const u=e-hebrewToJd(n,a,1)+1;return[n,a,u]}function equinoxeAParis(e){const n=equinox(e,2);const a=n-deltat(e)/(24*60*60);const o=a+equationOfTime(n);const t=(2+20/60+15/(60*60))/360;const r=o+t;return r}function parisEquinoxeJd(e){const n=equinoxeAParis(e);const a=Math.floor(n-.5)+.5;return a}const FRENCH_REVOLUTIONARY_EPOCH=2375839.5;function anneeDeLaRevolution(e){let n=jdToGregorian(e)[0]-2;let a;let o;a=parisEquinoxeJd(n);while(a>e){n--;a=parisEquinoxeJd(n)}o=a-1;while(!(a<=e&&e<o)){a=o;n++;o=parisEquinoxeJd(n)}const t=Math.round((a-FRENCH_REVOLUTIONARY_EPOCH)/TropicalYear)+1;return[t,a]}function jdToFrenchRevolutionary(e){let n;e=Math.floor(e)+.5;const a=anneeDeLaRevolution(e);const o=a[0];const t=a[1];const r=Math.floor((e-t)/30)+1;n=(e-t)%30;const u=Math.floor(n/10)+1;n=n%10+1;return[o,r,u,n]}function frenchRevolutionaryToJd(e,n,a,o){let t,r;r=FRENCH_REVOLUTIONARY_EPOCH+TropicalYear*(e-1-1);t=[e-1,0];while(t[0]<e){t=anneeDeLaRevolution(r);r=t[1]+(TropicalYear+2)}const u=t[1];const c=u+30*(n-1)+10*(a-1)+(o-1);return c}function leapIslamic(e){return(e*11+14)%30<11}const ISLAMIC_EPOCH=1948439.5;const ISLAMIC_WEEKDAYS=["al-Ahad","al-Ithnayn","al-Thulatha’","al-Arbi‘a’","al-Khamis","al-Jum‘ah","al-Sabt"];function islamicToJd(e,n,a){return a+Math.ceil(29.5*(n-1))+(e-1)*354+Math.floor((3+11*e)/30)+ISLAMIC_EPOCH-1}function jdToIslamic(e){e=Math.floor(e)+.5;const n=Math.floor((30*(e-ISLAMIC_EPOCH)+10646)/10631);const a=Math.min(12,Math.ceil((e-(29+islamicToJd(n,1,1)))/29.5)+1);const o=e-islamicToJd(n,a,1)+1;return[n,a,o]}function tehranEquinox(e){const n=equinox(e,0);const a=n-deltat(e)/(24*60*60);const o=a+equationOfTime(n);const t=(52+30/60+0/(60*60))/360;const r=o+t;return r}function tehranEquinoxJd(e){const n=tehranEquinox(e);const a=Math.floor(n);return a}const PERSIAN_EPOCH=1948320.5;const PERSIAN_WEEKDAYS=["Yekshanbeh","Doshanbeh","Sehshanbeh","Chaharshanbeh","Panjshanbeh","Jom‘eh","Shanbeh"];function persianaYear(e){let n=jdToGregorian(e)[0]-2;let a;let o;a=tehranEquinoxJd(n);while(a>e){n--;a=tehranEquinoxJd(n)}o=a-1;while(!(a<=e&&e<o)){a=o;n++;o=tehranEquinoxJd(n)}const t=Math.round((a-PERSIAN_EPOCH)/TropicalYear)+1;return[t,a]}function jdToPersiana(e){let n;e=Math.floor(e)+.5;const a=persianaYear(e);const o=a[0];const t=a[1];n=Math.floor((e-t)/30)+1;const r=Math.floor(e)-persianaToJd(o,1,1)+1;const u=r<=186?Math.ceil(r/31):Math.ceil((r-6)/30);n=Math.floor(e)-persianaToJd(o,u,1)+1;return[o,u,n]}function persianaToJd(e,n,a){let o,t;t=PERSIAN_EPOCH-1+TropicalYear*(e-1-1);o=[e-1,0];while(o[0]<e){o=persianaYear(t);t=o[1]+(TropicalYear+2)}const r=o[1];const u=r+(n<=7?(n-1)*31:(n-1)*30+6)+(a-1);return u}function leapPersiana(e){return persianaToJd(e+1,1,1)-persianaToJd(e,1,1)>365}function leapPersian(e){return((e-(e>0?474:473))%2820+474+38)*682%2816<682}function persianToJd(e,n,a){const o=e-(e>=0?474:473);const t=474+mod(o,2820);return a+(n<=7?(n-1)*31:(n-1)*30+6)+Math.floor((t*682-110)/2816)+(t-1)*365+Math.floor(o/2820)*1029983+(PERSIAN_EPOCH-1)}function jdToPersian(e){let n,a,o,t;e=Math.floor(e)+.5;const r=e-persianToJd(475,1,1);const u=Math.floor(r/1029983);const c=mod(r,1029983);if(c===1029982){a=2820}else{o=Math.floor(c/366);t=mod(c,366);a=Math.floor((2134*o+2816*t+2815)/1028522)+o+1}n=a+2820*u+474;if(n<=0){n--}const i=e-persianToJd(n,1,1)+1;const l=i<=186?Math.ceil(i/31):Math.ceil((i-6)/30);const d=e-persianToJd(n,l,1)+1;return[n,l,d]}const MAYAN_COUNT_EPOCH=584282.5;function mayanCountToJd(e,n,a,o,t){return MAYAN_COUNT_EPOCH+e*144e3+n*7200+a*360+o*20+t}function jdToMayanCount(e){let n;e=Math.floor(e)+.5;n=e-MAYAN_COUNT_EPOCH;const a=Math.floor(n/144e3);n=mod(n,144e3);const o=Math.floor(n/7200);n=mod(n,7200);const t=Math.floor(n/360);n=mod(n,360);const r=Math.floor(n/20);const u=mod(n,20);return[a,o,t,r,u]}const MAYAN_HAAB_MONTHS=["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"];function jdToMayanHaab(e){e=Math.floor(e)+.5;const n=e-MAYAN_COUNT_EPOCH;const a=mod(n+8+(18-1)*20,365);return[Math.floor(a/20)+1,mod(a,20)]}const MAYAN_TZOLKIN_MONTHS=["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"];function jdToMayanTzolkin(e){e=Math.floor(e)+.5;const n=e-MAYAN_COUNT_EPOCH;return[amod(n+20,20),amod(n+4,13)]}const INDIAN_CIVIL_WEEKDAYS=["ravivara","somavara","mangalavara","budhavara","brahaspativara","sukravara","sanivara"];function indianCivilToJd(e,n,a){let o,t;const r=e+78;const u=leapGregorian(r);const c=gregorianToJd(r,3,u?21:22);const i=u?31:30;if(n===1){o=c+(a-1)}else{o=c+i;t=n-2;t=Math.min(t,5);o+=t*31;if(n>=8){t=n-7;o+=t*30}o+=a-1}return o}function jdToIndianCivil(e){let n,a,o;const t=79-1;const r=80;e=Math.floor(e)+.5;const u=jdToGregorian(e);const c=leapGregorian(u[0]);n=u[0]-t;const i=gregorianToJd(u[0],1,1);a=e-i;const l=c?31:30;if(a<r){n--;a+=l+31*5+30*3+10+r}let d,s;a-=r;if(a<l){d=1;s=a+1}else{o=a-l;if(o<31*5){d=Math.floor(o/31)+2;s=o%31+1}else{o-=31*5;d=Math.floor(o/30)+7;s=o%30+1}}return[n,d,s]}function updateFromGregorian(){const e=Number(document.gregorian.year.value);const n=document.gregorian.month.selectedIndex;const a=Number(document.gregorian.day.value);let o=Number(document.gregorian.min.value);let t=Number(document.gregorian.sec.value);let r=o=t=0;r=Number(document.gregorian.hour.value);const u=gregorianToJd(e,n+1,a)+Math.floor(t+60*(o+60*r)+.5)/86400;document.julianday.day.value=u;document.modifiedjulianday.day.value=u-JMJD;let c=jwday(u);document.gregorian.wday.value=Weekdays[c];document.gregorian.leap.value=NormLeap[leapGregorian(e)?1:0];const i=jdToJulian(u);document.juliancalendar.year.value=i[0];document.juliancalendar.month.selectedIndex=i[1]-1;document.juliancalendar.day.value=i[2];document.juliancalendar.leap.value=NormLeap[leapJulian(i[0])?1:0];c=jwday(u);document.juliancalendar.wday.value=Weekdays[c];const l=jdToHebrew(u);if(hebrewLeap(l[0])){document.hebrew.month.options.length=13;document.hebrew.month.options[11]=new Option("Adar I");document.hebrew.month.options[12]=new Option("Veadar")}else{document.hebrew.month.options.length=12;document.hebrew.month.options[11]=new Option("Adar")}document.hebrew.year.value=l[0];document.hebrew.month.selectedIndex=l[1]-1;document.hebrew.day.value=l[2];let d=l[1];if(d===12&&!hebrewLeap(l[0])){d=14}document.hebrew.hebmonth.src="figures/hebrew_month_0.gif";switch(hebrewYearDays(l[0])){case 353:document.hebrew.leap.value="Common deficient (353 days)";break;case 354:document.hebrew.leap.value="Common regular (354 days)";break;case 355:document.hebrew.leap.value="Common complete (355 days)";break;case 383:document.hebrew.leap.value="Embolismic deficient (383 days)";break;case 384:document.hebrew.leap.value="Embolismic regular (384 days)";break;case 385:document.hebrew.leap.value="Embolismic complete (385 days)";break;default:document.hebrew.leap.value="Invalid year length: "+hebrewYearDays(l[0])+" days.";break}const s=jdToIslamic(u);document.islamic.year.value=s[0];document.islamic.month.selectedIndex=s[1]-1;document.islamic.day.value=s[2];document.islamic.wday.value="Yawm "+ISLAMIC_WEEKDAYS[c];document.islamic.leap.value=NormLeap[leapIslamic(s[0])?1:0];let m=jdToPersian(u);document.persian.year.value=m[0];document.persian.month.selectedIndex=m[1]-1;document.persian.day.value=m[2];document.persian.wday.value=PERSIAN_WEEKDAYS[c];document.persian.leap.value=NormLeap[leapPersian(m[0])?1:0];m=jdToPersiana(u);document.persiana.year.value=m[0];document.persiana.month.selectedIndex=m[1]-1;document.persiana.day.value=m[2];document.persiana.wday.value=PERSIAN_WEEKDAYS[c];document.persiana.leap.value=NormLeap[leapPersiana(m[0])?1:0];const f=jdToMayanCount(u);document.mayancount.baktun.value=f[0];document.mayancount.katun.value=f[1];document.mayancount.tun.value=f[2];document.mayancount.uinal.value=f[3];document.mayancount.kin.value=f[4];const h=jdToMayanHaab(u);document.mayancount.haab.value=""+h[1]+" "+MAYAN_HAAB_MONTHS[h[0]-1];const y=jdToMayanTzolkin(u);document.mayancount.tzolkin.value=""+y[1]+" "+MAYAN_TZOLKIN_MONTHS[y[0]-1];const g=jdToIndianCivil(u);document.indiancivilcalendar.year.value=g[0];document.indiancivilcalendar.month.selectedIndex=g[1]-1;document.indiancivilcalendar.day.value=g[2];document.indiancivilcalendar.weekday.value=INDIAN_CIVIL_WEEKDAYS[c];document.indiancivilcalendar.leap.value=NormLeap[leapGregorian(g[0]+78)?1:0];const b=jdToFrenchRevolutionary(u);document.french.an.value=b[0];document.french.mois.selectedIndex=b[1]-1;document.french.decade.selectedIndex=b[2]-1;document.french.jour.selectedIndex=(b[1]<=12?b[3]:b[3]+11)-1;if(document.gregserial!=null){document.gregserial.day.value=u-J0000}document.excelserial1900.day.value=u-J1900+1+(u>2415078.5?1:0);document.excelserial1904.day.value=u-J1904;const v=(u-J1970)*(60*60*24*1e3);document.unixtime.time.value=Math.round(v/1e3);const M=jdToIso(u);document.isoweek.year.value=M[0];document.isoweek.week.value=M[1];document.isoweek.day.value=M[2];const T=jdToIsoDay(u);document.isoday.year.value=T[0];document.isoday.day.value=T[1]}function calcGregorian(){updateFromGregorian()}function calcJulian(){const e=Number(document.julianday.day.value);const n=jdToGregorian(e);const a=jhms(e);document.gregorian.year.value=n[0];document.gregorian.month.selectedIndex=n[1]-1;document.gregorian.day.value=n[2];document.gregorian.hour.value=pad(a[0],2," ");document.gregorian.min.value=pad(a[1],2,"0");document.gregorian.sec.value=pad(a[2],2,"0");updateFromGregorian()}function setJulian(e){document.julianday.day.value=Number(e);calcJulian()}function calcModifiedJulian(){setJulian(Number(document.modifiedjulianday.day.value)+JMJD)}function calcJulianCalendar(){setJulian(julianToJd(Number(document.juliancalendar.year.value),document.juliancalendar.month.selectedIndex+1,Number(document.juliancalendar.day.value)))}function calcHebrew(){setJulian(hebrewToJd(Number(document.hebrew.year.value),document.hebrew.month.selectedIndex+1,Number(document.hebrew.day.value)))}function calcIslamic(){setJulian(islamicToJd(Number(document.islamic.year.value),document.islamic.month.selectedIndex+1,Number(document.islamic.day.value)))}function calcPersian(){setJulian(persianToJd(Number(document.persian.year.value),document.persian.month.selectedIndex+1,Number(document.persian.day.value)))}function calcPersiana(){setJulian(persianaToJd(Number(document.persiana.year.value),document.persiana.month.selectedIndex+1,Number(document.persiana.day.value))+.5)}function calcMayanCount(){setJulian(mayanCountToJd(Number(document.mayancount.baktun.value),Number(document.mayancount.katun.value),Number(document.mayancount.tun.value),Number(document.mayancount.uinal.value),Number(document.mayancount.kin.value)))}function calcIndianCivilCalendar(){setJulian(indianCivilToJd(Number(document.indiancivilcalendar.year.value),document.indiancivilcalendar.month.selectedIndex+1,Number(document.indiancivilcalendar.day.value)))}function calcFrench(){let e,n,a;n=document.french.jour.selectedIndex;e=document.french.decade.selectedIndex;a=document.french.mois.selectedIndex;if(n>9){n-=11;e=0;a=12}if(a===12){e=0;if(n>5){n=0}}setJulian(frenchRevolutionaryToJd(Number(document.french.an.value),a+1,e+1,n+1))}function calcGregSerial(){setJulian(Number(document.gregserial.day.value)+J0000)}function calcExcelSerial1900(){let e=Number(document.excelserial1900.day.value);if(e>60){e--}setJulian(e-1+J1900)}function calcExcelSerial1904(){setJulian(Number(document.excelserial1904.day.value)+J1904)}function calcUnixTime(){const e=Number(document.unixtime.time.value);setJulian(J1970+e/(60*60*24))}function calcIsoWeek(){const e=Number(document.isoweek.year.value);const n=Number(document.isoweek.week.value);const a=Number(document.isoweek.day.value);setJulian(isoToJulian(e,n,a))}function calcIsoDay(){const e=Number(document.isoday.year.value);const n=Number(document.isoday.day.value);setJulian(isoDayToJulian(e,n))}function setDateToToday(){const e=new Date;let n=e.getYear();if(n<1e3){n+=1900}document.gregorian.year.value=n;document.gregorian.month.selectedIndex=e.getMonth();document.gregorian.day.value=e.getDate();document.gregorian.hour.value=document.gregorian.min.value=document.gregorian.sec.value="00"}function presetDataToRequest(e){const n=e.indexOf("=");let a=false;if(n!==-1){const o=e.substring(0,n);const t=decodeURIComponent(e.substring(n+1));let r=t.match(/^(\d+)\D(\d+)\D(\d+)(\D\d+)?(\D\d+)?(\D\d+)?/);if(o.toLowerCase()==="gregorian"){r=t.match(/^(\d+)\D(\d+)\D(\d+)(\D\d+)?(\D\d+)?(\D\d+)?/);if(r!=null){if(r[2]>=1&&r[2]<=12&&r[3]>=1&&r[3]<=31&&(r[4]===undefined||r[4].substring(1)>=0&&r[4].substring(1)<=23)&&(r[5]===undefined||r[5].substring(1)>=0&&r[5].substring(1)<=59)&&(r[6]===undefined||r[6].substring(1)>=0&&r[6].substring(1)<=59)){document.gregorian.year.value=r[1];document.gregorian.month.selectedIndex=r[2]-1;document.gregorian.day.value=Number(r[3]);document.gregorian.hour.value=r[4]===undefined?"00":r[4].substring(1);document.gregorian.min.value=r[5]===undefined?"00":r[5].substring(1);document.gregorian.sec.value=r[6]===undefined?"00":r[6].substring(1);calcGregorian();a=true}else{console.log('Invalid Gregorian date "'+t+'" in search request')}}else{console.log('Invalid Gregorian date "'+t+'" in search request')}}else if(o.toLowerCase()==="julian"){r=t.match(/^(\d+)\D(\d+)\D(\d+)(\D\d+)?(\D\d+)?(\D\d+)?/);if(r!=null){if(r[2]>=1&&r[2]<=12&&r[3]>=1&&r[3]<=31&&(r[4]===undefined||r[4].substring(1)>=0&&r[4].substring(1)<=23)&&(r[5]===undefined||r[5].substring(1)>=0&&r[5].substring(1)<=59)&&(r[6]===undefined||r[6].substring(1)>=0&&r[6].substring(1)<=59)){document.juliancalendar.year.value=r[1];document.juliancalendar.month.selectedIndex=r[2]-1;document.juliancalendar.day.value=Number(r[3]);calcJulianCalendar();document.gregorian.hour.value=r[4]===undefined?"00":r[4].substring(1);document.gregorian.min.value=r[5]===undefined?"00":r[5].substring(1);document.gregorian.sec.value=r[6]===undefined?"00":r[6].substring(1);a=true}else{console.log('Invalid Julian calendar date "'+t+'" in search request')}}else{console.log('Invalid Julian calendar date "'+t+'" in search request')}}else if(o.toLowerCase()==="jd"){r=t.match(/^(-?\d+\.?\d*)/);if(r!=null){setJulian(r[1]);a=1}else{console.log('Invalid Julian day "'+t+'" in search request')}}else if(o.toLowerCase()==="mjd"){r=t.match(/^(-?\d+\.?\d*)/);if(r!=null){document.modifiedjulianday.day.value=r[1];calcModifiedJulian();a=1}else{console.log('Invalid Modified Julian day "'+t+'" in search request')}}else if(o.toLowerCase()==="unixtime"){r=t.match(/^(-?\d+\.?\d*)/);if(r!=null){document.unixtime.time.value=r[1];calcUnixTime();a=1}else{console.log('Invalid Modified Julian day "'+t+'" in search request')}}else if(o.toLowerCase()==="iso"){if((r=t.match(/^(-?\d+)-(\d\d\d)/))!=null){document.isoday.year.value=r[1];document.isoday.day.value=r[2];calcIsoDay();a=1}else if((r=t.match(/^(-?\d+)-?W(\d\d)-?(\d)/i))!=null){document.isoweek.year.value=r[1];document.isoweek.week.value=r[2];document.isoweek.day.value=r[3];calcIsoWeek();a=1}else{console.log('Invalid ISO-8601 date "'+t+'" in search request')}}else if(o.toLowerCase()==="excel"){r=t.match(/^(-?\d+\.?\d*)/);if(r!=null){document.excelserial1900.day.value=r[1];calcExcelSerial1900();a=1}else{console.log('Invalid Excel serial day (1900/PC) "'+t+'" in search request')}}else if(o.toLowerCase()==="excel1904"){r=t.match(/^(-?\d+\.?\d*)/);if(r!=null){document.excelserial1904.day.value=r[1];calcExcelSerial1904();a=1}else{console.log('Invalid Excel serial day (1904/Mac) "'+t+'" in search request')}}else{console.log('Invalid calendar "'+o+'" in search request')}}else{console.log("Invalid search request: "+e)}if(!a){setDateToToday();calcGregorian()}}